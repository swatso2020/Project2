console.log("works"),$("#search").click(function(a){a.preventDefault();let b=$("#search-input").val();document.getElementById("recipeList").style.display="block",document.getElementById("favorite-results").style.display="none",document.getElementById("review-text").style.display="none",document.getElementById("faves").style.display="inline",document.getElementById("add").style.display="inline",document.getElementById("add").style.display="inline",ajaxCallSearch(b)}),$("#search-input").keypress(function(a){13==a.which&&$("#search").trigger("click")});function ajaxCallSearch(a){$.ajax({url:`https://www.themealdb.com/api/json/v1/1/filter.php?i=${a}`,success:function(a){a=JSON.stringify(a),a=JSON.parse(a),$("#recipeList").empty();let b;for(let c=0;3>c;c++){let c=[Math.floor(11*Math.random())],d=$("<a>"),e=a.meals[c].strMeal;b=a.meals[c].idMeal,d.attr("href","#ingredientsTitle"),d.addClass("list-group-item list-group-item-action"),d.html(e),d.attr("id",`${b}`),$("#recipeList").append(d)}$("#recipeList a").on("click",function(a){a.preventDefault(),$("#recipeDetail").empty;let b=$(this).attr("id");ajaxCallRecipe(b)})}})}function ajaxCallRecipe(a){$.ajax({url:`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${a}`,success:function(a){console.log(a),$("#image-div").empty(),$("#addToFavorites").show();var b=$("<img>").attr("src",a.meals[0].strMealThumb).addClass("food-image");document.getElementById("recipeDetail").style.display="block",document.getElementById("review").style.display="inline",document.getElementById("submit-btn").style.display="none",document.getElementById("faves").style.display="inline",document.getElementById("add").style.display="inline",document.getElementById("review-text").style.display="none",$("#image-div").append(b),$("#recipeTitle").html(a.meals[0].strMeal),$("#instructions").html(a.meals[0].strInstructions);const c=[];for(let b=1;20>=b&&!(""===a.meals[0][`strIngredient${b}`]);b++)c.push({name:a.meals[0][`strIngredient${b}`],measure:a.meals[0][`strMeasure${b}`]});renderIngredients(c);var d={mealid:a.meals[0].idMeal,mealname:a.meals[0].strMeal,mealInstr:a.meals[0].strInstructions,mealcategory:a.meals[0].strCategory,mealThumb:a.meals[0].strMealThumb,mealIngr1:a.meals[0].strIngredient1,mealIngr2:a.meals[0].strIngredient2,mealIngr3:a.meals[0].strIngredient3,mealIngr4:a.meals[0].strIngredient4,mealIngr5:a.meals[0].strIngredient5,mealIngr6:a.meals[0].strIngredient6,mealIngr7:a.meals[0].strIngredient7,mealIngr8:a.meals[0].strIngredient8,mealIngr9:a.meals[0].strIngredient9,mealIngr10:a.meals[0].strIngredient10};$("#addToFavorites").click(function(){console.log(d),$("#addToFavorites").hide(),$.post("/api/favRecipie",d)})}})}function renderIngredients(a){$("#ingredientsList").empty();for(let b=0;b<a.length;b++){let c=$("<li>"),d=a[b].measure+" "+a[b].name;c.html(d),$("#ingredientsList").append(c)}}function randomRecipe(a){$.ajax({url:"https://www.themealdb.com/api/json/v1/1/random.php",success:function(b){$("#image-div").empty(),$("#instructions").empty(),$("#recipeList").empty(),$("#addToFavorites").show(),$("#addToFavorites").attr("meal",a);var c=$("<img>").attr("src",b.meals[0].strMealThumb).addClass("food-image");document.getElementById("recipeDetail").style.display="block",document.getElementById("review").style.display="inline",$("#image-div").append(c),$("#recipeTitle").html(b.meals[0].strMeal),$("#instructions").html(b.meals[0].strInstructions),document.getElementById("submit-btn").style.display="none",document.getElementById("faves").style.display="inline",document.getElementById("add").style.display="inline",document.getElementById("review-text").style.display="none";const d=[];for(let a=1;20>=a&&!(""===b.meals[0][`strIngredient${a}`]);a++)d.push({name:b.meals[0][`strIngredient${a}`],measure:b.meals[0][`strMeasure${a}`]});({mealid:b.meals[0].idMeal,mealname:b.meals[0].strMeal,mealInstr:b.meals[0].strInstructions,mealThumb:b.meals[0].strMealThumb,mealcategory:b.meals[0].strCategory,mealIngr1:b.meals[0].strIngredient1,mealIngr2:b.meals[0].strIngredient2,mealIngr3:b.meals[0].strIngredient3,mealIngr4:b.meals[0].strIngredient4,mealIngr5:b.meals[0].strIngredient5,mealIngr6:b.meals[0].strIngredient6,mealIngr7:b.meals[0].strIngredient7,mealIngr8:b.meals[0].strIngredient8,mealIngr9:b.meals[0].strIngredient9,mealIngr10:b.meals[0].strIngredient10});renderIngredients(d)}})}function saveRecipe(){$.ajax({type:"GET"}).then(function(a){var b={mealid:a.meals[0].idMeal,mealname:a.meals[0].strMeal,mealInstr:a.meals[0].strInstructions,mealcategory:a.meals[0].strCategory};console.log(a),console.log(b),$.post("/api/favRecipie",b)})}$("#review").click(function(){$("#review-input").val(""),document.getElementById("submit-btn").style.display="inline",document.getElementById("review-input").style.display="inline",document.getElementById("review-form").style.display="block",document.getElementById("review").style.display="none",document.getElementById("faves").style.display="none",document.getElementById("add").style.display="none"}),$("#submit-btn").click(function(a){a.preventDefault(),document.getElementById("review-text").style.display="block",document.getElementById("submit-btn").style.display="none",document.getElementById("review").style.display="none",document.getElementById("review-input").style.display="none";let b=$("#review-input").val();$("#user-review").html(`<b>Thank you for your review!</b> <br>`+b)}),$("#faves").click(function(a){a.preventDefault(),getFavorites(),document.getElementById("favorite-results").style.display="inline",document.getElementById("recipeList").style.display="none",document.getElementById("recipeDetail").style.display="none",document.getElementById("review").style.display="none",document.getElementById("faves").style.display="none"});let favoriteChosen;function getFavorites(){$.ajax({type:"GET",url:"/api/recipies"}).then(function(a){function b(a){console.log(a,"line 326"),$("#image-div").empty(),$("#instructions").empty(),$("#ingredientsList").empty(),$("#recipeList").empty();const b=[];for(let c=1;20>=c&&!(""===a[`mealIngr${c}`]);c++)b.push({name:a[`mealIngr${c}`]});for(let c=0;c<b.length;c++){let a=$("<li>"),d=b[c].name;a.html(d),$("#ingredientsList").append(a)}$("#addToFavorites").show(),$("#addToFavorites").attr("meal",a);var c=$("<img>").attr("src",c).addClass("food-image");document.getElementById("recipeDetail").style.display="block",document.getElementById("review").style.display="inline",$("#image-div").append(),$("#recipeTitle").html(a.mealname),$("#instructions").html(a.mealInstr),document.getElementById("submit-btn").style.display="none",document.getElementById("faves").style.display="inline",document.getElementById("add").style.display="inline",document.getElementById("review-text").style.display="none"}console.log(a);$("#fav1").text(a[0].mealname),$("#fav1").click(function(){let c=a[0];b(c)});$("#fav2").text(a[1].mealname),$("#fav2").click(function(){let c=a[1];b(c)});$("#fav3").text(a[2].mealname),$("#fav3").click(function(){let c=a[2];b(c)});$("#fav4").text(a[3].mealname),$("#fav4").click(function(){let c=a[3];b(c)});$("#fav5").text(a[4].mealname),$("#fav5").click(function(){let c=a[4];b(c)})})}